:_mod-docs-content-type: ASSEMBLY
[id="ibm-z-recommended-host-practices"]
= Host practices for IBM Z and IBM LinuxONE environments
include::_attributes/common-attributes.adoc[]
:context: ibm-z-recommended-host-practices

toc::[]

[role="_abstract"]
To optimize performance on mainframe infrastructure, apply host practices, so that you can configure {ibm-z-title} and {ibm-linuxone-name} environments to ensure your s390x architecture meets specific operational requirements

The s390x architecture is unique in many aspects. Some host practice recommendations might not apply to other platforms.

[NOTE]
====
Unless stated otherwise, the host practices apply to both z/VM and {op-system-base-full} KVM installations on {ibm-z-name} and {ibm-linuxone-name}.
====

include::modules/ibm-z-managing-cpu-overcommitment.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://www.vm.ibm.com/perf/tips/prgcom.html[z/VM Common Performance Problems and Solutions]

* link:https://www.ibm.com/docs/en/linux-on-systems?topic=overcommitment-considerations[z/VM overcommitment considerations]

* link:https://www.ibm.com/docs/en/zos/2.2.0?topic=director-lpar-cpu-management[LPAR CPU management]

include::modules/ibm-z-disable-thp.adoc[leveloffset=+1]

include::modules/ibm-z-boost-networking-performance-with-rfs.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://developer.ibm.com/tutorials/red-hat-openshift-on-ibm-z-tune-your-network-performance-with-rfs/[{product-title} on {ibm-z-name}: Tune your network performance with RFS]

* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/performance_tuning_guide/sect-red_hat_enterprise_linux-performance_tuning_guide-networking-configuration_tools#sect-Red_Hat_Enterprise_Linux-Performance_Tuning_Guide-Configuration_tools-Configuring_Receive_Flow_Steering_RFS[Configuring Receive Flow Steering (RFS)]

* link:https://www.kernel.org/doc/Documentation/networking/scaling.txt[Scaling in the Linux Networking Stack]

include::modules/ibm-z-choose-networking-setup.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://www.ibm.com/docs/en/linux-on-systems?topic=openshift-performance#openshift_perf__ocp_eval[{product-title} on {ibm-z-name} - Performance Experiences, Hints and Tips]

* link:https://www.ibm.com/docs/en/linux-on-systems?topic=openshift-performance#openshift_perf__ocp_net[{product-title} on {ibm-z-name} Networking Performance]

* xref:../nodes/scheduling/nodes-scheduler-node-affinity.adoc[Controlling pod placement on nodes using node affinity rules]

include::modules/ibm-z-ensure-high-disk-performance-hyperpav.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://www.ibm.com/docs/en/linux-on-systems?topic=io-using-hyperpav-eckd-dasd[Using HyperPAV for ECKD DASD]

* link:https://public.dhe.ibm.com/software/dw/linux390/perf/zvm_hpav00.pdf[Scaling HyperPAV alias devices on Linux guests on z/VM]

include::modules/ibm-z-rhel-kvm-host-recommendations.adoc[leveloffset=+1]

include::modules/use-io-threads-for-your-virtual-block-devices.adoc[leveloffset=+2]
 
include::modules/avoid-virtual-scsi-devices.adoc[leveloffset=+2]

include::modules/configure-guest-caching-for-disk.adoc[leveloffset=+2]

include::modules/exclude-the-memory-balloon-device.adoc[leveloffset=+2]

include::modules/tune-the-cpu-migration-algorithm-of-the-host-scheduler.adoc[leveloffset=+2]

include::modules/disabling-the-cpuset-cgroup-controller.adoc[leveloffset=+2]

include::modules/tuning-the-polling-period-for-idle-virtual-cpus.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://www.ibm.com/docs/en/linux-on-systems?topic=v-kvm[Linux on {ibm-z-name} Performance Tuning for KVM]

* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/getting-started-with-virtualization-in-rhel-8-on-ibm-z_configuring-and-managing-virtualization[Getting started with virtualization on {ibm-z-name}]
