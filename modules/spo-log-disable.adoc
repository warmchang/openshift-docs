// Module included in the following assemblies:
//
// * security/security_profiles_operator/spo-logging.adoc

:_mod-docs-content-type: PROCEDURE
[id="spo-log-disable_{context}"]
= Disabling Advanced Audit Logging

[role="_abstract"]
You can disable advanced audit logging and revert all configurations by deleting the test pod, the `seccompProfile`, the JSON Log Enricher and resetting all `spod` pod options.

.Procedure

. Delete the test pod with the following command:
+
[source,terminal]
----
oc delete pod my-pod
----
. Delete the `seccompProfile` using this command:
+
[source,terminal]
----
oc delete seccompprofile profile1 -n openshift-security-profiles
----
. Disable the JSON Log Enricher and reset all options:
+
[source,terminal]
----
oc patch spod spod -n openshift-security-profiles --type merge -p '{ "spec": { "enableJsonEnricher": false, "jsonEnricherOptions": { "auditLogPath": "", "auditLogMaxSize": 0, "auditLogMaxBackups": 0, "auditLogMaxAge": 0, "auditLogIntervalSeconds": 0 } }}'
----
. Wait for `spod` pods to restart. Run the following command to check:
+
[source,terminal]
----
oc get pods -n openshift-security-profiles -l name=spod -w
----
+
Wait until all `spod` pods show `Running`.
. Revert the ConfigMap volume patch with the following command:
+
[source,terminal]
----
oc patch configmap security-profiles-operator-profile -n openshift-security-profiles --type merge -p '{"data":{"patch-volume-source.json":""}}'
----
. Verify that the configuration has been successfully updated:
+
[source,terminal]
----
oc get spod spod -n openshift-security-profiles -o jsonpath='{.spec.enableJsonEnricher}'
----
Expected output:
+
[source,terminal]
----
false
----
