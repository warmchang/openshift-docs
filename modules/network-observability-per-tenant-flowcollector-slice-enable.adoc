//Module included in the following assemblies:
//
// network_observability/network-observability-per-tenant-model.adoc

:_mod-docs-content-type: PROCEDURE
[id="network-observability-per-tenant-flowcollector-slice-enable_{context}"]
= Enable the Network Observability Operator FlowCollectorSlice

[role="_abstract"]
Enabling the `FlowCollectorSlice` feature in the `FlowCollector` resource allows cluster administrators to delegate flow collection and data enrichment management to specific namespaces.

Before project administrators can manage their own settings, a cluster administrator must enable the `FlowCollector` custom resource to watch for the `FlowCollectorSlice` custom resource.

.Prerequisites

* The Network Observability Operator is installed.
* A `FlowCollector` custom resource exists in the cluster.
* You have `cluster-admin` privileges.

.Procedure
. Edit the `FlowCollector` custom resource by running the following command:
+
[source,terminal]
----
$ oc edit flowcollector cluster
----

. Configure the `spec.processor.slicesConfig` field to define which namespaces are permitted to use slices:
+
[source,yaml]
----
apiVersion: flows.netobserv.io/v1beta2
kind: FlowCollector
metadata:
  name: cluster
spec:
  processor:
    slicesConfig:
      enable: true
      collectionMode: AllowList
      namespacesAllowList:
       - /openshift-.*|netobserv.*/
----
+
where:

`spec.processor.sliceConfig.enable`:: Specifies if the `FlowCollectorSlice` feature is enabled. If not, all resources of kind `FlowCollectorSlice` are ignored.
`spec.processor.sliceConfig.collectionMode`:: Specifies how the `FlowCollectorSlice` custom resources impacts the flow collection process. When set to `AlwaysCollect`, all flows are collected regardless of the presence of `FlowCollectorSlice`. When set to `AllowList`, only the flows related to namespaces where a `FlowCollectorSlice` resource is present, or configured via the global `namespacesAllowList`, are collected.
`spec.processor.sliceConfig.namespacesAllowList`:: Specifies a list of namespaces for which flows are always collected, regardless of the presence of `FlowCollectorSlice` in those namespaces.
+
[NOTE]
====
The `namespacesAllowList` field supports regular expressions, such as `/openshift-.*/` to capture multiple namespaces, or strict equality, such as `netobserv`, to match a specific namespace.
====

. Save the changes and exit the editor.

.Verification
* Verify that only network flows from the `netobserv` namespace and namespaces starting with `openshift-` are displayed in the *Network Traffic* page of the web console.