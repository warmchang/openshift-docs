// Module included in the following assemblies:
// * network_observability/configuring_operator.adoc

:_mod-docs-content-type: REFERENCE
[id="network-observability-resources-table_{context}"]
= Resource considerations

[role="_abstract"]
The Network Observability Operator configuration can be adjusted based on the cluster workload size. Use the following baseline examples to determine the appropriate resource limits and configuration settings for the environment.

The examples outlined in the table demonstrate scenarios that are tailored to specific workloads. Consider each example only as a baseline from which adjustments can be made to accommodate your workload needs.

The test beds used for these recommendations are:

* Extra small: 10-node cluster, 4 vCPUs and 16 GiB memory per worker, `LokiStack` size `1x.extra-small`, tested on AWS M6i instances.
* Small: 25-node cluster, 16 vCPUs and 64 GiB memory per worker, `LokiStack` size `1x.small`, tested on AWS M6i instances.
* Large: 250-node cluster, 16 vCPUs and 64 GiB memory per worker, `LokiStack` size `1x.medium`, tested on AWS M6i instances. In addition to the worker and controller nodes, three infrastructure nodes (size `M6i.12xlarge`) and one workload node (size `M6i.8xlarge`) were tested.

[id="network-observability-resource-recommendations-table_{context}"]
.Resource recommendations for cluster sizes
[cols="2h,1,1,1",options="header"]
|===
| Criterion | Extra small (10 nodes) | Small (25 nodes) | Large (250 nodes)

| Operator memory limit: `Subscription` `spec.config.resources`
| `400Mi` (default)
| `400Mi` (default)
| `400Mi` (default)

| eBPF agent sampling interval: `FlowCollector` `spec.agent.ebpf.sampling`
| `50` (default)
| `50` (default)
| `50` (default)

| eBPF agent memory limit: `FlowCollector` `spec.agent.ebpf.resources`
| `800Mi` (default)
| `800Mi` (default)
| `1600Mi`

| eBPF agent cache size: `FlowCollector` `spec.agent.ebpf.cacheMaxSize`
| `50,000`
| `120,000` (default)
| `120,000` (default)

| Processor memory limit: `FlowCollector` `spec.processor.resources`
| `800Mi` (default)
| `800Mi` (default)
| `800Mi` (default)

| Processor replicas: `FlowCollector` `spec.processor.consumerReplicas`
| `3` (default)
| `6`
| `18`

| Deployment model: `FlowCollector` `spec.deploymentModel`
| `Service` (default)
| `Kafka`
| `Kafka`

| Kafka partitions: Kafka installation
| N/A
| `48`
| `48`

| Kafka brokers: Kafka installation
| N/A
| `3` (default)
| `3` (default)
|===