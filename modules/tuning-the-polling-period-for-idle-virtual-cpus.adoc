// Module included in the following assemblies:
//
// * scalability_and_performance/ibm-z-recommended-host-practices.adoc

:_mod-docs-content-type: PROCEDURE
[id="tune-the-polling-period-for-idle-virtual-cpus_{context}"]
= Tuning the polling period for idle virtual CPUs

[role="_abstract"]
When a virtual CPU becomes idle, KVM polls for wakeup conditions for the virtual CPU before allocating the host resource. You can specify the time interval, during which polling takes place in sysfs at `/sys/module/kvm/parameters/halt_poll_ns`. 

During the specified time, polling reduces the wakeup latency for the virtual CPU at the expense of resource usage. Depending on the workload, a longer or shorter time for polling can be beneficial. The time interval is specified in nanoseconds. The default is `50000` ns.

.Procedure

* To optimize for low CPU consumption, enter a small value or write `0` to disable polling:
+
[source,terminal]
----
# echo 0 > /sys/module/kvm/parameters/halt_poll_ns
----

* To optimize for low latency, for example for transactional workloads, enter a large value:
+
[source,terminal]
----
# echo 80000 > /sys/module/kvm/parameters/halt_poll_ns
----

