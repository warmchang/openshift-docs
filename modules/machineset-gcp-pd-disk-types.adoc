// Module included in the following assemblies:
//
// * machine_management/creating_machinesets/creating-machineset-gcp.adoc
// * machine_management/control_plane_machine_management/cpmso_provider_configurations/cpmso-config-options-gcp.adoc

ifeval::["{context}" == "cpmso-supported-features-gcp"]
:cpmso:
endif::[]

:_mod-docs-content-type: PROCEDURE
[id="machineset-gcp-pd-disk-types_{context}"]
= Configuring persistent disk types by using machine sets

[role="_abstract"]
Configure the persistent disk type for your machine set on {gcp-first} to match your workload requirements. Editing the `MachineSet` YAML file allows you to choose between standard, balanced, or SSD persistent disks.

For more information about persistent disk types, compatibility, regional availability, and limitations, see the {gcp-short} Compute Engine documentation about link:https://cloud.google.com/compute/docs/disks#pdspecs[persistent disks].

.Procedure

. In a text editor, open the YAML file for an existing machine set or create a new one.

. Edit the following line under the `providerSpec` field:
+
[source,yaml]
----
ifndef::cpmso[]
apiVersion: machine.openshift.io/v1beta1
kind: MachineSet
endif::cpmso[]
ifdef::cpmso[]
apiVersion: machine.openshift.io/v1
kind: ControlPlaneMachineSet
endif::cpmso[]
...
spec:
  template:
    spec:
      providerSpec:
        value:
          disks:
ifndef::cpmso[]
            type: <pd-disk-type>
endif::cpmso[]
ifdef::cpmso[]
            type: pd-ssd
endif::cpmso[]
----

ifndef::cpmso[]
+
where:
+
--
`spec.template.spec.providerSpec.value.disks.type`:: Specifies the persistent disk type. Valid values are `pd-ssd`, `pd-standard`, and `pd-balanced`. The default value is `pd-standard`.
--
endif::cpmso[]
ifdef::cpmso[]
+
where:
+
--
`spec.template.spec.providerSpec.value.disks.type`:: Uses the `pd-ssd` disk type for control plane nodes. Using the `pd-ssd` disk type is required for control plane nodes.
--
endif::cpmso[]

.Verification

* Using the {gcp-full} console, review the details for a machine deployed by the machine set and verify that the `Type` field matches the configured disk type.

ifeval::["{context}" == "cpmso-supported-features-gcp"]
:!cpmso:
endif::[]
